{% extends "base.html" %}
{% block content %}
  <div class="col-12 center">
    <h1>{{ section.title }}</h1>
  </div>
  <div class="row">
    <div class="col-2"></div>
    <div class="col-8">
      <div class="row">
        <ul class="catlist">
          {% for post in paginator.pages %}
          <li class="catlist"><b><a href="{{ post.permalink | safe}}">
            {{ post.date | date(format="%e %b %Y") }} <span class="invis">&raquo;</span>
            {{ post.title }}</a></b> <span class="invis"> &sdot; {{ post.reading_time }} min read</span>
            {%- if post.description -%}<div class="invis postdesc">{{ post.description }}</div>{%- endif -%}
          </li>
          {% endfor %}
        </ul>
      </div>
      <div class = "row">
        <div class = "col-12 center">
          {%- if paginator.previous  or paginator.next -%}
            <div class="pagination">
              {%- set pag_start = 1 -%}
              {%- set pag_end = paginator.number_pagers -%}
              {%- if paginator.previous -%}<a href = "{{ paginator.previous }}">&larr;</a>{%- endif -%}
              {%- for i in range(start=pag_start, end=pag_end+1) -%}
                <a class="{% if paginator.current_index == i %} current {% endif %}" href="{{ paginator.base_url | safe }}{{ i ~ '/' }}">{{i}}</a>
              {%- endfor -%}
              {%- if paginator.next -%}<a href = {{paginator.next}}>&rarr;</a>{%- endif -%}
            </div>
            {%- endif -%}
          </div>
        </div>
    </div>
    <div class="col-2" id="taglist">
      <h4>Tags:</h4>
      {% set tags = get_taxonomy(kind="tags") %}
      <ul>
        {% for tag in tags.items %}
          <li><a href="{{ tag.permalink | safe }}">{{ tag.name }}</a> ({{ tag.pages | length }})</li>
        {% endfor %} 
      </ul>
    </div> <!-- END TAGLIST-->
  </div>
  {% endblock %}
  